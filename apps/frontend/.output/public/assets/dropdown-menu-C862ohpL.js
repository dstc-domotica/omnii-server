import{h as Kt,i as le,k as $e,l as ze,m as dn,n as We,o as Le,p as Pn,q as Jt,s as tt,v as at,w as wo,x as An,y as vo,z as Qt,A as en,C as Lt,r as i,d as lt,D as vt,b as ee,c as ie,F as Et,f as ft,G as In,H as Yt,I as kn,e as dt,E as mt,j as se,J as Ln,g as tn,K as Eo}from"./main-CH1Vho1T.js";import{i as nn,s as be,j as gt,k as Ue,l as je,m as Mt,u as pt,F as Mo,P as Dn,n as ht,o as Ke,p as Fn,q as Ct,r as Re,t as Dt,v as Co,w as Oo,x as nt,y as So,z as To,T as Po,B as Ae,C as Ao,D as Io,E as ko,G as Lo,H as Do,I as Fo,J as Ho,K as No,L as Vo,M as Bo,N as Hn,O as _o,Q as Wo,R as Zo,S as Ot,U as $o,V as zo,W as Uo,X as jo,Y as Ko,Z as Yo,_ as me,$ as Go,a0 as Nn,a1 as Xo,a2 as Vn,a3 as qo,a4 as Jo,a5 as Qo,a6 as er,a7 as tr,a8 as nr,a9 as or,aa as Bn,ab as rr,ac as sr,ad as ir,ae as cr,af as ar,ag as lr,ah as ur,ai as fr,aj as dr,ak as mn,al as gn,am as mr}from"./alert-dialog-DacxVlWJ.js";import{p as _n,n as ue,t as St,q as Wn,r as Zn,v as Ie,w as Rt,x as Tt,y as $n,m as zn,z as gr,A as st,D as pr,E as hr}from"./api-DSxyYvsI.js";const xr=["top","right","bottom","left"],ot=Math.min,Ce=Math.max,Pt=Math.round,Qe=Math.floor,Be=e=>({x:e,y:e}),yr={left:"right",right:"left",bottom:"top",top:"bottom"},br={start:"end",end:"start"};function Gt(e,t,n){return Ce(e,ot(t,n))}function Ze(e,t){return typeof e=="function"?e(t):e}function Oe(e){return e.split("-")[0]}function Ye(e){return e.split("-")[1]}function on(e){return e==="x"?"y":"x"}function rn(e){return e==="y"?"height":"width"}const Rr=new Set(["top","bottom"]);function ke(e){return Rr.has(Oe(e))?"y":"x"}function sn(e){return on(ke(e))}function wr(e,t,n){n===void 0&&(n=!1);const o=Ye(e),s=sn(e),r=rn(s);let l=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(l=At(l)),[l,At(l)]}function vr(e){const t=At(e);return[Xt(e),t,Xt(t)]}function Xt(e){return e.replace(/start|end/g,t=>br[t])}const pn=["left","right"],hn=["right","left"],Er=["top","bottom"],Mr=["bottom","top"];function Cr(e,t,n){switch(e){case"top":case"bottom":return n?t?hn:pn:t?pn:hn;case"left":case"right":return t?Er:Mr;default:return[]}}function Or(e,t,n,o){const s=Ye(e);let r=Cr(Oe(e),n==="start",o);return s&&(r=r.map(l=>l+"-"+s),t&&(r=r.concat(r.map(Xt)))),r}function At(e){return e.replace(/left|right|bottom|top/g,t=>yr[t])}function Sr(e){return{top:0,right:0,bottom:0,left:0,...e}}function Un(e){return typeof e!="number"?Sr(e):{top:e,right:e,bottom:e,left:e}}function It(e){const{x:t,y:n,width:o,height:s}=e;return{width:o,height:s,top:n,left:t,right:t+o,bottom:n+s,x:t,y:n}}function xt(e,t,n){return Math.floor(e/t)!==n}function it(e,t){return t<0||t>=e.current.length}function _t(e,t){return he(e,{disabledIndices:t})}function xn(e,t){return he(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function he(e,{startingIndex:t=-1,decrement:n=!1,disabledIndices:o,amount:s=1}={}){let r=t;do r+=n?-s:s;while(r>=0&&r<=e.current.length-1&&ct(e,r,o));return r}function Tr(e,{event:t,orientation:n,loopFocus:o,rtl:s,cols:r,disabledIndices:l,minIndex:c,maxIndex:m,prevIndex:d,stopEvent:f=!1}){let a=d;const x=[],b={};let y=!1;{let g=null,h=-1;e.current.forEach((E,w)=>{if(E==null)return;const u=E.closest('[role="row"]');u&&(y=!0),(u!==g||h===-1)&&(g=u,h+=1,x[h]=[]),x[h].push(w),b[w]=h})}const p=y&&x.length>0&&x.some(g=>g.length!==r);function R(g){if(!p||d===-1)return;const h=b[d];if(h==null)return;const E=x[h].indexOf(d);let w=g==="up"?h-1:h+1;o&&(w<0?w=x.length-1:w>=x.length&&(w=0));const u=new Set;for(;w>=0&&w<x.length&&!u.has(w);){u.add(w);const O=x[w];if(O.length===0){w=g==="up"?w-1:w+1;continue}const C=Math.min(E,O.length-1);for(let S=C;S>=0;S-=1){const F=O[S];if(!ct(e,F,l))return F}w=g==="up"?w-1:w+1,o&&(w<0?w=x.length-1:w>=x.length&&(w=0))}}if(t.key===nn){const g=R("up");if(g!==void 0)f&&be(t),a=g;else{if(f&&be(t),d===-1)a=m;else if(a=he(e,{startingIndex:a,amount:r,decrement:!0,disabledIndices:l}),o&&(d-r<c||a<0)){const h=d%r,E=m%r,w=m-(E-h);E===h?a=m:a=E>h?w:w-r}it(e,a)&&(a=d)}}if(t.key===gt){const g=R("down");g!==void 0?(f&&be(t),a=g):(f&&be(t),d===-1?a=c:(a=he(e,{startingIndex:d,amount:r,disabledIndices:l}),o&&d+r>m&&(a=he(e,{startingIndex:d%r-r,amount:r,disabledIndices:l}))),it(e,a)&&(a=d))}if(n==="both"){const g=Qe(d/r);t.key===(s?Ue:je)&&(f&&be(t),d%r!==r-1?(a=he(e,{startingIndex:d,disabledIndices:l}),o&&xt(a,r,g)&&(a=he(e,{startingIndex:d-d%r-1,disabledIndices:l}))):o&&(a=he(e,{startingIndex:d-d%r-1,disabledIndices:l})),xt(a,r,g)&&(a=d)),t.key===(s?je:Ue)&&(f&&be(t),d%r!==0?(a=he(e,{startingIndex:d,decrement:!0,disabledIndices:l}),o&&xt(a,r,g)&&(a=he(e,{startingIndex:d+(r-d%r),decrement:!0,disabledIndices:l}))):o&&(a=he(e,{startingIndex:d+(r-d%r),decrement:!0,disabledIndices:l})),xt(a,r,g)&&(a=d));const h=Qe(m/r)===g;it(e,a)&&(o&&h?a=t.key===(s?je:Ue)?m:he(e,{startingIndex:d-d%r-1,disabledIndices:l}):a=d)}return a}function Pr(e,t,n){const o=[];let s=0;return e.forEach(({width:r,height:l},c)=>{let m=!1;for(n&&(s=0);!m;){const d=[];for(let f=0;f<r;f+=1)for(let a=0;a<l;a+=1)d.push(s+f+a*t);s%t+r<=t&&d.every(f=>o[f]==null)?(d.forEach(f=>{o[f]=c}),m=!0):s+=1}}),[...o]}function Ar(e,t,n,o,s){if(e===-1)return-1;const r=n.indexOf(e),l=t[e];switch(s){case"tl":return r;case"tr":return l?r+l.width-1:r;case"bl":return l?r+(l.height-1)*o:r;case"br":return n.lastIndexOf(e);default:return-1}}function Ir(e,t){return t.flatMap((n,o)=>e.includes(n)?[o]:[])}function ct(e,t,n){if(typeof n=="function")return n(t);if(n)return n.includes(t);const o=e.current[t];return o?o.hasAttribute("disabled")||o.getAttribute("aria-disabled")==="true":!1}function Wt(e,t,n){if(n&&!Mt(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const o=e();return typeof o=="number"?o:o?.[t]}return e?.[t]}function yn(e,t,n){let{reference:o,floating:s}=e;const r=ke(t),l=sn(t),c=rn(l),m=Oe(t),d=r==="y",f=o.x+o.width/2-s.width/2,a=o.y+o.height/2-s.height/2,x=o[c]/2-s[c]/2;let b;switch(m){case"top":b={x:f,y:o.y-s.height};break;case"bottom":b={x:f,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:a};break;case"left":b={x:o.x-s.width,y:a};break;default:b={x:o.x,y:o.y}}switch(Ye(t)){case"start":b[l]-=x*(n&&d?-1:1);break;case"end":b[l]+=x*(n&&d?-1:1);break}return b}const kr=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:r=[],platform:l}=n,c=r.filter(Boolean),m=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:a}=yn(d,o,m),x=o,b={},y=0;for(let p=0;p<c.length;p++){const{name:R,fn:g}=c[p],{x:h,y:E,data:w,reset:u}=await g({x:f,y:a,initialPlacement:o,placement:x,strategy:s,middlewareData:b,rects:d,platform:l,elements:{reference:e,floating:t}});f=h??f,a=E??a,b={...b,[R]:{...b[R],...w}},u&&y<=50&&(y++,typeof u=="object"&&(u.placement&&(x=u.placement),u.rects&&(d=u.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):u.rects),{x:f,y:a}=yn(d,x,m)),p=-1)}return{x:f,y:a,placement:x,strategy:s,middlewareData:b}};async function ut(e,t){var n;t===void 0&&(t={});const{x:o,y:s,platform:r,rects:l,elements:c,strategy:m}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:a="floating",altBoundary:x=!1,padding:b=0}=Ze(t,e),y=Un(b),R=c[x?a==="floating"?"reference":"floating":a],g=It(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(R)))==null||n?R:R.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:m})),h=a==="floating"?{x:o,y:s,width:l.floating.width,height:l.floating.height}:l.reference,E=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),w=await(r.isElement==null?void 0:r.isElement(E))?await(r.getScale==null?void 0:r.getScale(E))||{x:1,y:1}:{x:1,y:1},u=It(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:h,offsetParent:E,strategy:m}):h);return{top:(g.top-u.top+y.top)/w.y,bottom:(u.bottom-g.bottom+y.bottom)/w.y,left:(g.left-u.left+y.left)/w.x,right:(u.right-g.right+y.right)/w.x}}const Lr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:r,rects:l,initialPlacement:c,platform:m,elements:d}=t,{mainAxis:f=!0,crossAxis:a=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...R}=Ze(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const g=Oe(s),h=ke(c),E=Oe(c)===c,w=await(m.isRTL==null?void 0:m.isRTL(d.floating)),u=x||(E||!p?[At(c)]:vr(c)),O=y!=="none";!x&&O&&u.push(...Or(c,p,y,w));const C=[c,...u],S=await ut(t,R),F=[];let D=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&F.push(S[g]),a){const H=wr(s,l,w);F.push(S[H[0]],S[H[1]])}if(D=[...D,{placement:s,overflows:F}],!F.every(H=>H<=0)){var B,P;const H=(((B=r.flip)==null?void 0:B.index)||0)+1,_=C[H];if(_&&(!(a==="alignment"?h!==ke(_):!1)||D.every(M=>ke(M.placement)===h?M.overflows[0]>0:!0)))return{data:{index:H,overflows:D},reset:{placement:_}};let I=(P=D.filter(T=>T.overflows[0]<=0).sort((T,M)=>T.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!I)switch(b){case"bestFit":{var v;const T=(v=D.filter(M=>{if(O){const L=ke(M.placement);return L===h||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,A)=>L+A,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:v[0];T&&(I=T);break}case"initialPlacement":I=c;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function bn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Rn(e){return xr.some(t=>e[t]>=0)}const Dr=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...s}=Ze(e,t);switch(o){case"referenceHidden":{const r=await ut(t,{...s,elementContext:"reference"}),l=bn(r,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Rn(l)}}}case"escaped":{const r=await ut(t,{...s,altBoundary:!0}),l=bn(r,n.floating);return{data:{escapedOffsets:l,escaped:Rn(l)}}}default:return{}}}}},jn=new Set(["left","top"]);async function Fr(e,t){const{placement:n,platform:o,elements:s}=e,r=await(o.isRTL==null?void 0:o.isRTL(s.floating)),l=Oe(n),c=Ye(n),m=ke(n)==="y",d=jn.has(l)?-1:1,f=r&&m?-1:1,a=Ze(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:y}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:a.mainAxis||0,crossAxis:a.crossAxis||0,alignmentAxis:a.alignmentAxis};return c&&typeof y=="number"&&(b=c==="end"?y*-1:y),m?{x:b*f,y:x*d}:{x:x*d,y:b*f}}const Hr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:s,y:r,placement:l,middlewareData:c}=t,m=await Fr(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:s+m.x,y:r+m.y,data:{...m,placement:l}}}}},Nr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:s}=t,{mainAxis:r=!0,crossAxis:l=!1,limiter:c={fn:R=>{let{x:g,y:h}=R;return{x:g,y:h}}},...m}=Ze(e,t),d={x:n,y:o},f=await ut(t,m),a=ke(Oe(s)),x=on(a);let b=d[x],y=d[a];if(r){const R=x==="y"?"top":"left",g=x==="y"?"bottom":"right",h=b+f[R],E=b-f[g];b=Gt(h,b,E)}if(l){const R=a==="y"?"top":"left",g=a==="y"?"bottom":"right",h=y+f[R],E=y-f[g];y=Gt(h,y,E)}const p=c.fn({...t,[x]:b,[a]:y});return{...p,data:{x:p.x-n,y:p.y-o,enabled:{[x]:r,[a]:l}}}}}},Vr=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:s,rects:r,middlewareData:l}=t,{offset:c=0,mainAxis:m=!0,crossAxis:d=!0}=Ze(e,t),f={x:n,y:o},a=ke(s),x=on(a);let b=f[x],y=f[a];const p=Ze(c,t),R=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(m){const E=x==="y"?"height":"width",w=r.reference[x]-r.floating[E]+R.mainAxis,u=r.reference[x]+r.reference[E]-R.mainAxis;b<w?b=w:b>u&&(b=u)}if(d){var g,h;const E=x==="y"?"width":"height",w=jn.has(Oe(s)),u=r.reference[a]-r.floating[E]+(w&&((g=l.offset)==null?void 0:g[a])||0)+(w?0:R.crossAxis),O=r.reference[a]+r.reference[E]+(w?0:((h=l.offset)==null?void 0:h[a])||0)-(w?R.crossAxis:0);y<u?y=u:y>O&&(y=O)}return{[x]:b,[a]:y}}}},Br=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:s,rects:r,platform:l,elements:c}=t,{apply:m=()=>{},...d}=Ze(e,t),f=await ut(t,d),a=Oe(s),x=Ye(s),b=ke(s)==="y",{width:y,height:p}=r.floating;let R,g;a==="top"||a==="bottom"?(R=a,g=x===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(g=a,R=x==="end"?"top":"bottom");const h=p-f.top-f.bottom,E=y-f.left-f.right,w=ot(p-f[R],h),u=ot(y-f[g],E),O=!t.middlewareData.shift;let C=w,S=u;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(C=h),O&&!x){const D=Ce(f.left,0),B=Ce(f.right,0),P=Ce(f.top,0),v=Ce(f.bottom,0);b?S=y-2*(D!==0||B!==0?D+B:Ce(f.left,f.right)):C=p-2*(P!==0||v!==0?P+v:Ce(f.top,f.bottom))}await m({...t,availableWidth:S,availableHeight:C});const F=await l.getDimensions(c.floating);return y!==F.width||p!==F.height?{reset:{rects:!0}}:{}}}};function Kn(e){const t=We(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=Le(e),r=s?e.offsetWidth:n,l=s?e.offsetHeight:o,c=Pt(n)!==r||Pt(o)!==l;return c&&(n=r,o=l),{width:n,height:o,$:c}}function cn(e){return le(e)?e:e.contextElement}function et(e){const t=cn(e);if(!Le(t))return Be(1);const n=t.getBoundingClientRect(),{width:o,height:s,$:r}=Kn(t);let l=(r?Pt(n.width):n.width)/o,c=(r?Pt(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const _r=Be(0);function Yn(e){const t=ze(e);return!Pn()||!t.visualViewport?_r:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ze(e)?!1:t}function qe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=cn(e);let l=Be(1);t&&(o?le(o)&&(l=et(o)):l=et(e));const c=Wr(r,n,o)?Yn(r):Be(0);let m=(s.left+c.x)/l.x,d=(s.top+c.y)/l.y,f=s.width/l.x,a=s.height/l.y;if(r){const x=ze(r),b=o&&le(o)?ze(o):o;let y=x,p=dn(y);for(;p&&o&&b!==y;){const R=et(p),g=p.getBoundingClientRect(),h=We(p),E=g.left+(p.clientLeft+parseFloat(h.paddingLeft))*R.x,w=g.top+(p.clientTop+parseFloat(h.paddingTop))*R.y;m*=R.x,d*=R.y,f*=R.x,a*=R.y,m+=E,d+=w,y=ze(p),p=dn(y)}}return It({width:f,height:a,x:m,y:d})}function Ft(e,t){const n=Lt(e).scrollLeft;return t?t.left+n:qe($e(e)).left+n}function Gn(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-Ft(e,n),s=n.top+t.scrollTop;return{x:o,y:s}}function Zr(e){let{elements:t,rect:n,offsetParent:o,strategy:s}=e;const r=s==="fixed",l=$e(o),c=t?Jt(t.floating):!1;if(o===l||c&&r)return n;let m={scrollLeft:0,scrollTop:0},d=Be(1);const f=Be(0),a=Le(o);if((a||!a&&!r)&&((Qt(o)!=="body"||en(l))&&(m=Lt(o)),Le(o))){const b=qe(o);d=et(o),f.x=b.x+o.clientLeft,f.y=b.y+o.clientTop}const x=l&&!a&&!r?Gn(l,m):Be(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-m.scrollLeft*d.x+f.x+x.x,y:n.y*d.y-m.scrollTop*d.y+f.y+x.y}}function $r(e){return Array.from(e.getClientRects())}function zr(e){const t=$e(e),n=Lt(e),o=e.ownerDocument.body,s=Ce(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=Ce(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+Ft(e);const c=-n.scrollTop;return We(o).direction==="rtl"&&(l+=Ce(t.clientWidth,o.clientWidth)-s),{width:s,height:r,x:l,y:c}}const wn=25;function Ur(e,t){const n=ze(e),o=$e(e),s=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,c=0,m=0;if(s){r=s.width,l=s.height;const f=Pn();(!f||f&&t==="fixed")&&(c=s.offsetLeft,m=s.offsetTop)}const d=Ft(o);if(d<=0){const f=o.ownerDocument,a=f.body,x=getComputedStyle(a),b=f.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,y=Math.abs(o.clientWidth-a.clientWidth-b);y<=wn&&(r-=y)}else d<=wn&&(r+=d);return{width:r,height:l,x:c,y:m}}const jr=new Set(["absolute","fixed"]);function Kr(e,t){const n=qe(e,!0,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft,r=Le(e)?et(e):Be(1),l=e.clientWidth*r.x,c=e.clientHeight*r.y,m=s*r.x,d=o*r.y;return{width:l,height:c,x:m,y:d}}function vn(e,t,n){let o;if(t==="viewport")o=Ur(e,n);else if(t==="document")o=zr($e(e));else if(le(t))o=Kr(t,n);else{const s=Yn(e);o={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return It(o)}function Xn(e,t){const n=tt(e);return n===t||!le(n)||at(n)?!1:We(n).position==="fixed"||Xn(n,t)}function Yr(e,t){const n=t.get(e);if(n)return n;let o=Kt(e,[],!1).filter(c=>le(c)&&Qt(c)!=="body"),s=null;const r=We(e).position==="fixed";let l=r?tt(e):e;for(;le(l)&&!at(l);){const c=We(l),m=An(l);!m&&c.position==="fixed"&&(s=null),(r?!m&&!s:!m&&c.position==="static"&&!!s&&jr.has(s.position)||en(l)&&!m&&Xn(e,l))?o=o.filter(f=>f!==l):s=c,l=tt(l)}return t.set(e,o),o}function Gr(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const l=[...n==="clippingAncestors"?Jt(t)?[]:Yr(t,this._c):[].concat(n),o],c=l[0],m=l.reduce((d,f)=>{const a=vn(t,f,s);return d.top=Ce(a.top,d.top),d.right=ot(a.right,d.right),d.bottom=ot(a.bottom,d.bottom),d.left=Ce(a.left,d.left),d},vn(t,c,s));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Xr(e){const{width:t,height:n}=Kn(e);return{width:t,height:n}}function qr(e,t,n){const o=Le(t),s=$e(t),r=n==="fixed",l=qe(e,!0,r,t);let c={scrollLeft:0,scrollTop:0};const m=Be(0);function d(){m.x=Ft(s)}if(o||!o&&!r)if((Qt(t)!=="body"||en(s))&&(c=Lt(t)),o){const b=qe(t,!0,r,t);m.x=b.x+t.clientLeft,m.y=b.y+t.clientTop}else s&&d();r&&!o&&s&&d();const f=s&&!o&&!r?Gn(s,c):Be(0),a=l.left+c.scrollLeft-m.x-f.x,x=l.top+c.scrollTop-m.y-f.y;return{x:a,y:x,width:l.width,height:l.height}}function Zt(e){return We(e).position==="static"}function En(e,t){if(!Le(e)||We(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $e(e)===n&&(n=n.ownerDocument.body),n}function qn(e,t){const n=ze(e);if(Jt(e))return n;if(!Le(e)){let s=tt(e);for(;s&&!at(s);){if(le(s)&&!Zt(s))return s;s=tt(s)}return n}let o=En(e,t);for(;o&&wo(o)&&Zt(o);)o=En(o,t);return o&&at(o)&&Zt(o)&&!An(o)?n:o||vo(e)||n}const Jr=async function(e){const t=this.getOffsetParent||qn,n=this.getDimensions,o=await n(e.floating);return{reference:qr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Qr(e){return We(e).direction==="rtl"}const es={convertOffsetParentRelativeRectToViewportRelativeRect:Zr,getDocumentElement:$e,getClippingRect:Gr,getOffsetParent:qn,getElementRects:Jr,getClientRects:$r,getDimensions:Xr,getScale:et,isElement:le,isRTL:Qr};function Jn(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ts(e,t){let n=null,o;const s=$e(e);function r(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function l(c,m){c===void 0&&(c=!1),m===void 0&&(m=1),r();const d=e.getBoundingClientRect(),{left:f,top:a,width:x,height:b}=d;if(c||t(),!x||!b)return;const y=Qe(a),p=Qe(s.clientWidth-(f+x)),R=Qe(s.clientHeight-(a+b)),g=Qe(f),E={rootMargin:-y+"px "+-p+"px "+-R+"px "+-g+"px",threshold:Ce(0,ot(1,m))||1};let w=!0;function u(O){const C=O[0].intersectionRatio;if(C!==m){if(!w)return l();C?l(!1,C):o=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!Jn(d,e.getBoundingClientRect())&&l(),w=!1}try{n=new IntersectionObserver(u,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(u,E)}n.observe(e)}return l(!0),r}function Mn(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,d=cn(e),f=s||r?[...d?Kt(d):[],...Kt(t)]:[];f.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),r&&g.addEventListener("resize",n)});const a=d&&c?ts(d,n):null;let x=-1,b=null;l&&(b=new ResizeObserver(g=>{let[h]=g;h&&h.target===d&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(t)})),n()}),d&&!m&&b.observe(d),b.observe(t));let y,p=m?qe(e):null;m&&R();function R(){const g=qe(e);p&&!Jn(p,g)&&n(),p=g,y=requestAnimationFrame(R)}return n(),()=>{var g;f.forEach(h=>{s&&h.removeEventListener("scroll",n),r&&h.removeEventListener("resize",n)}),a?.(),(g=b)==null||g.disconnect(),b=null,m&&cancelAnimationFrame(y)}}const ns=Hr,os=Nr,rs=Lr,ss=Br,is=Dr,cs=Vr,as=(e,t,n)=>{const o=new Map,s={platform:es,...n},r={...s.platform,_c:o};return kr(e,t,{...s,platform:r})};var ls=typeof document<"u",us=function(){},wt=ls?i.useLayoutEffect:us;function kt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!kt(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=n;o--!==0;){const r=s[o];if(!(r==="_owner"&&e.$$typeof)&&!kt(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function Qn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Cn(e,t){const n=Qn(e);return Math.round(t*n)/n}function $t(e){const t=i.useRef(e);return wt(()=>{t.current=e}),t}function fs(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:s,elements:{reference:r,floating:l}={},transform:c=!0,whileElementsMounted:m,open:d}=e,[f,a]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=i.useState(o);kt(x,o)||b(o);const[y,p]=i.useState(null),[R,g]=i.useState(null),h=i.useCallback(M=>{M!==O.current&&(O.current=M,p(M))},[]),E=i.useCallback(M=>{M!==C.current&&(C.current=M,g(M))},[]),w=r||y,u=l||R,O=i.useRef(null),C=i.useRef(null),S=i.useRef(f),F=m!=null,D=$t(m),B=$t(s),P=$t(d),v=i.useCallback(()=>{if(!O.current||!C.current)return;const M={placement:t,strategy:n,middleware:x};B.current&&(M.platform=B.current),as(O.current,C.current,M).then(L=>{const A={...L,isPositioned:P.current!==!1};H.current&&!kt(S.current,A)&&(S.current=A,lt.flushSync(()=>{a(A)}))})},[x,t,n,B,P]);wt(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,a(M=>({...M,isPositioned:!1})))},[d]);const H=i.useRef(!1);wt(()=>(H.current=!0,()=>{H.current=!1}),[]),wt(()=>{if(w&&(O.current=w),u&&(C.current=u),w&&u){if(D.current)return D.current(w,u,v);v()}},[w,u,v,D,F]);const _=i.useMemo(()=>({reference:O,floating:C,setReference:h,setFloating:E}),[h,E]),I=i.useMemo(()=>({reference:w,floating:u}),[w,u]),T=i.useMemo(()=>{const M={position:n,left:0,top:0};if(!I.floating)return M;const L=Cn(I.floating,f.x),A=Cn(I.floating,f.y);return c?{...M,transform:"translate("+L+"px, "+A+"px)",...Qn(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:A}},[n,c,I.floating,f.x,f.y]);return i.useMemo(()=>({...f,update:v,refs:_,elements:I,floatingStyles:T}),[f,v,_,I,T])}const ds=(e,t)=>({...ns(e),options:[e,t]}),ms=(e,t)=>({...os(e),options:[e,t]}),gs=(e,t)=>({...cs(e),options:[e,t]}),ps=(e,t)=>({...rs(e),options:[e,t]}),hs=(e,t)=>({...ss(e),options:[e,t]}),xs=(e,t)=>({...is(e),options:[e,t]});function ys(e){const{open:t=!1,onOpenChange:n,elements:o={}}=e,s=_n(),r=pt()!=null,l=vt(()=>new Mo({open:t,onOpenChange:n,referenceElement:o.reference??null,floatingElement:o.floating??null,triggerElements:o.triggers??new Dn,floatingId:s,nested:r,noEmit:e.noEmit||!1})).current;return ee(()=>{const c={open:t,floatingId:s};o.reference!==void 0&&(c.referenceElement=o.reference,c.domReferenceElement=le(o.reference)?o.reference:null),o.floating!==void 0&&(c.floatingElement=o.floating),l.update(c)},[t,s,o.reference,o.floating,l]),l.context.onOpenChange=n,l.context.nested=r,l.context.noEmit=e.noEmit||!1,l}function bs(e={}){const{nodeId:t,externalTree:n}=e,o=ys(e),s=e.rootContext||o,r={reference:s.useState("referenceElement"),floating:s.useState("floatingElement"),domReference:s.useState("domReferenceElement")},[l,c]=i.useState(null),m=i.useRef(null),d=ht(n);ee(()=>{r.domReference&&(m.current=r.domReference)},[r.domReference]);const f=fs({...e,elements:{...r,...l&&{reference:l}}}),a=i.useCallback(C=>{const S=le(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),getClientRects:()=>C.getClientRects(),contextElement:C}:C;c(S),f.refs.setReference(S)},[f.refs]),[x,b]=i.useState(null),[y,p]=i.useState(null);s.useSyncedValue("referenceElement",x),s.useSyncedValue("domReferenceElement",le(x)?x:null),s.useSyncedValue("floatingElement",y);const R=i.useCallback(C=>{(le(C)||C===null)&&(m.current=C,b(C)),(le(f.refs.reference.current)||f.refs.reference.current===null||C!==null&&!le(C))&&f.refs.setReference(C)},[f.refs,b]),g=i.useCallback(C=>{p(C),f.refs.setFloating(C)},[f.refs]),h=i.useMemo(()=>({...f.refs,setReference:R,setFloating:g,setPositionReference:a,domReference:m}),[f.refs,R,g,a]),E=i.useMemo(()=>({...f.elements,domReference:r.domReference}),[f.elements,r.domReference]),w=s.useState("open"),u=s.useState("floatingId"),O=i.useMemo(()=>({...f,dataRef:s.context.dataRef,open:w,onOpenChange:s.setOpen,events:s.context.events,floatingId:u,refs:h,elements:E,nodeId:t,rootStore:s}),[f,h,E,t,s,w,u]);return ee(()=>{s.context.dataRef.current.floatingContext=O;const C=d?.nodesRef.current.find(S=>S.id===t);C&&(C.context=O)}),i.useMemo(()=>({...f,context:O,refs:h,elements:E,rootStore:s}),[f,h,E,O,s])}const zt=So&&To;function Rs(e,t={}){const n="rootStore"in e?e.rootStore:e,{events:o,dataRef:s}=n.context,{enabled:r=!0,visibleOnly:l=!0}=t,c=i.useRef(!1),m=Ke(),d=i.useRef(!0);i.useEffect(()=>{const a=n.select("domReferenceElement");if(!r)return;const x=ze(a);function b(){!n.select("open")&&Le(a)&&a===Ct(nt(a))&&(c.current=!0)}function y(){d.current=!0}function p(){d.current=!1}return x.addEventListener("blur",b),zt&&(x.addEventListener("keydown",y,!0),x.addEventListener("pointerdown",p,!0)),()=>{x.removeEventListener("blur",b),zt&&(x.removeEventListener("keydown",y,!0),x.removeEventListener("pointerdown",p,!0))}},[n,r]),i.useEffect(()=>{if(!r)return;function a(x){(x.reason===Wn||x.reason===Zn)&&(c.current=!0)}return o.on("openchange",a),()=>{o.off("openchange",a)}},[o,r]);const f=i.useMemo(()=>({onMouseLeave(){c.current=!1},onFocus(a){if(c.current)return;const x=Dt(a.nativeEvent);if(l&&le(x)){if(zt&&!a.relatedTarget){if(!d.current&&!Co(x))return}else if(!Oo(x))return}n.setOpen(!0,ue(St,a.nativeEvent,a.currentTarget))},onBlur(a){c.current=!1;const x=a.relatedTarget,b=a.nativeEvent,y=le(x)&&x.hasAttribute(Fn("focus-guard"))&&x.getAttribute("data-type")==="outside";m.start(0,()=>{const p=n.select("domReferenceElement"),R=Ct(p?p.ownerDocument:document);!x&&R===p||Re(s.current.floatingContext?.refs.floating.current,R)||Re(p,R)||y||n.context.triggerElements.hasElement(a.relatedTarget)||n.setOpen(!1,ue(St,b))})}}),[s,n,l,m]);return i.useMemo(()=>r?{reference:f,trigger:f}:{},[r,f])}const qt=Fn("safe-polygon"),ws=`button,a,[role="button"],select,[tabindex]:not([tabindex="-1"]),${Po}`;function vs(e){return e?!!e.closest(ws):!1}function eo(e){const t=i.useRef(void 0),n=i.useRef(!1),o=i.useRef(void 0),s=i.useRef(!0),r=i.useRef(!1),l=i.useRef(()=>{}),c=i.useRef(!1),m=Ke(),d=Ke(),f=i.useRef(void 0);return i.useMemo(()=>{const a=e.context.dataRef.current;return a.hoverInteractionState||(a.hoverInteractionState={pointerTypeRef:t,interactedInsideRef:n,handlerRef:o,blockMouseMoveRef:s,performedPointerEventsMutationRef:r,unbindMouseMoveRef:l,restTimeoutPendingRef:c,openChangeTimeout:m,restTimeout:d,handleCloseOptionsRef:f}),a.hoverInteractionState},[e,t,n,o,s,r,l,c,m,d,f])}const Es=new Set(["click","mousedown"]);function Ms(e,t={}){const n="rootStore"in e?e.rootStore:e,o=n.useState("open"),s=n.useState("floatingElement"),r=n.useState("domReferenceElement"),{dataRef:l}=n.context,{enabled:c=!0,closeDelay:m=0,externalTree:d}=t,{pointerTypeRef:f,interactedInsideRef:a,handlerRef:x,performedPointerEventsMutationRef:b,unbindMouseMoveRef:y,restTimeoutPendingRef:p,openChangeTimeout:R,handleCloseOptionsRef:g}=eo(n),h=ht(d),E=pt(),w=ie(()=>a.current?!0:l.current.openEvent?Es.has(l.current.openEvent.type):!1),u=ie(()=>{const D=l.current.openEvent?.type;return D?.includes("mouse")&&D!=="mousedown"}),O=i.useCallback((D,B=!0)=>{const P=Cs(m,f.current);P&&!x.current?R.start(P,()=>n.setOpen(!1,ue(Ie,D))):B&&(R.clear(),n.setOpen(!1,ue(Ie,D)))},[m,x,n,f,R]),C=ie(()=>{y.current(),x.current=void 0}),S=ie(()=>{if(b.current){const D=nt(s).body;D.style.pointerEvents="",D.removeAttribute(qt),b.current=!1}}),F=ie(D=>{const B=Dt(D);if(!vs(B)){a.current=!1;return}a.current=!0});ee(()=>{o||(f.current=void 0,p.current=!1,a.current=!1,C(),S())},[o,f,p,a,C,S]),i.useEffect(()=>()=>{C()},[C]),i.useEffect(()=>S,[S]),ee(()=>{if(c&&o&&g.current?.blockPointerEvents&&u()&&le(r)&&s){b.current=!0;const D=nt(s).body;D.setAttribute(qt,"");const B=r,P=s,v=h?.nodesRef.current.find(H=>H.id===E)?.context?.elements.floating;return v&&(v.style.pointerEvents=""),D.style.pointerEvents="none",B.style.pointerEvents="auto",P.style.pointerEvents="auto",()=>{D.style.pointerEvents="",B.style.pointerEvents="",P.style.pointerEvents=""}}},[c,o,r,s,g,u,h,E,b]),i.useEffect(()=>{if(!c)return;function D(H){if(w()||!l.current.floatingContext||!n.select("open"))return;const _=n.context.triggerElements;H.relatedTarget&&_.hasElement(H.relatedTarget)||(S(),C(),w()||O(H))}function B(H){R.clear(),S(),x.current?.(H),C()}function P(H){w()||O(H,!1)}const v=s;return v&&(v.addEventListener("mouseleave",D),v.addEventListener("mouseenter",B),v.addEventListener("mouseleave",P),v.addEventListener("pointerdown",F,!0)),()=>{v&&(v.removeEventListener("mouseleave",D),v.removeEventListener("mouseenter",B),v.removeEventListener("mouseleave",P),v.removeEventListener("pointerdown",F,!0))}})}function Cs(e,t){return t&&!Mt(t)?0:typeof e=="function"?e():e}function Ut(e){return typeof e=="function"?e():e}const Os={current:null};function Ss(e,t={}){const n="rootStore"in e?e.rootStore:e,{dataRef:o,events:s}=n.context,{enabled:r=!0,delay:l=0,handleClose:c=null,mouseOnly:m=!1,restMs:d=0,move:f=!0,triggerElementRef:a=Os,externalTree:x,isActiveTrigger:b=!0}=t,y=ht(x),{pointerTypeRef:p,interactedInsideRef:R,handlerRef:g,blockMouseMoveRef:h,performedPointerEventsMutationRef:E,unbindMouseMoveRef:w,restTimeoutPendingRef:u,openChangeTimeout:O,restTimeout:C,handleCloseOptionsRef:S}=eo(n),F=Ae(c),D=Ae(l),B=Ae(d);b&&(S.current=F.current?.__options);const P=ie(()=>R.current?!0:o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1),v=i.useCallback((T,M=!0)=>{const L=Wt(D.current,"close",p.current);L&&!g.current?O.start(L,()=>n.setOpen(!1,ue(Ie,T))):M&&(O.clear(),n.setOpen(!1,ue(Ie,T)))},[D,g,n,p,O]),H=ie(()=>{w.current(),g.current=void 0}),_=ie(()=>{if(E.current){const T=nt(n.select("domReferenceElement")).body;T.style.pointerEvents="",T.removeAttribute(qt),E.current=!1}});i.useEffect(()=>{if(!r)return;function T(M){M.open||(O.clear(),C.clear(),h.current=!0,u.current=!1)}return s.on("openchange",T),()=>{s.off("openchange",T)}},[r,s,O,C,h,u]);const I=ie(T=>{if(P()||!o.current.floatingContext)return;const M=n.context.triggerElements;if(T.relatedTarget&&M.hasElement(T.relatedTarget))return;const L=a.current;F.current?.({...o.current.floatingContext,tree:y,x:T.clientX,y:T.clientY,onClose(){_(),H(),!P()&&L===n.select("domReferenceElement")&&v(T)}})(T)});return i.useEffect(()=>{if(!r)return;const T=a.current??(b?n.select("domReferenceElement"):null);if(!le(T))return;function M(W){if(O.clear(),h.current=!1,m&&!Mt(p.current)||Ut(B.current)>0&&!Wt(D.current,"open"))return;const K=Wt(D.current,"open",p.current),k=n.select("domReferenceElement"),Y=n.context.triggerElements,J=(Y.hasElement(W.target)||Y.hasMatchingElement(te=>Re(te,W.target)))&&(!k||!Re(k,W.target)),$=W.currentTarget??null,Z=!n.select("open")||J;K?O.start(K,()=>{Z&&n.setOpen(!0,ue(Ie,W,$))}):Z&&n.setOpen(!0,ue(Ie,W,$))}function L(W){if(P()){_();return}w.current();const K=n.select("domReferenceElement"),k=nt(K);C.clear(),u.current=!1;const Y=n.context.triggerElements;if(W.relatedTarget&&Y.hasElement(W.relatedTarget))return;if(F.current&&o.current.floatingContext){n.select("open")||O.clear();const $=a.current;g.current=F.current({...o.current.floatingContext,tree:y,x:W.clientX,y:W.clientY,onClose(){_(),H(),!P()&&$===n.select("domReferenceElement")&&v(W,!0)}});const Z=g.current;Z(W),k.addEventListener("mousemove",Z),w.current=()=>{k.removeEventListener("mousemove",Z)};return}(p.current!=="touch"||!Re(n.select("floatingElement"),W.relatedTarget))&&v(W)}function A(W){I(W)}return n.select("open")&&T.addEventListener("mouseleave",A),f&&T.addEventListener("mousemove",M,{once:!0}),T.addEventListener("mouseenter",M),T.addEventListener("mouseleave",L),()=>{T.removeEventListener("mouseleave",A),f&&T.removeEventListener("mousemove",M),T.removeEventListener("mouseenter",M),T.removeEventListener("mouseleave",L)}},[H,_,h,o,D,v,n,r,F,I,b,P,m,f,p,B,C,u,O,a,y,w,g]),i.useMemo(()=>{function T(M){p.current=M.pointerType}return{onPointerDown:T,onPointerEnter:T,onMouseMove(M){const{nativeEvent:L}=M,A=M.currentTarget,W=n.select("domReferenceElement"),K=n.context.triggerElements,k=n.select("open"),Y=(K.hasElement(M.target)||K.hasMatchingElement($=>Re($,M.target)))&&(!W||!Re(W,M.target));if(m&&!Mt(p.current)||k&&!Y||Ut(B.current)===0||!Y&&u.current&&M.movementX**2+M.movementY**2<2)return;C.clear();function J(){!h.current&&(!k||Y)&&n.setOpen(!0,ue(Ie,L,A))}p.current==="touch"?lt.flushSync(()=>{J()}):Y&&k?J():(u.current=!0,C.start(Ut(B.current),J))}}},[h,m,n,p,B,C,u])}const Ts="Escape";function Ht(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function yt(e,t){return Ht(t,e===nn||e===gt,e===Ue||e===je)}function jt(e,t,n){return Ht(t,e===gt,n?e===Ue:e===je)||e==="Enter"||e===" "||e===""}function Ps(e,t,n){return Ht(t,n?e===Ue:e===je,e===gt)}function As(e,t,n,o){const s=n?e===je:e===Ue,r=e===nn;return t==="both"||t==="horizontal"&&o&&o>1?e===Ts:Ht(t,s,r)}function Is(e,t){const n="rootStore"in e?e.rootStore:e,o=n.useState("open"),s=n.useState("floatingElement"),r=n.useState("domReferenceElement"),l=n.context.dataRef,{listRef:c,activeIndex:m,onNavigate:d=()=>{},enabled:f=!0,selectedIndex:a=null,allowEscape:x=!1,loopFocus:b=!1,nested:y=!1,rtl:p=!1,virtual:R=!1,focusItemOnOpen:g="auto",focusItemOnHover:h=!0,openOnArrowKeyDown:E=!0,disabledIndices:w=void 0,orientation:u="vertical",parentOrientation:O,cols:C=1,scrollItemIntoView:S=!0,itemSizes:F,dense:D=!1,id:B,resetOnPointerLeave:P=!0,externalTree:v}=t,H=Ao(s),_=Ae(H),I=pt(),T=ht(v);ee(()=>{l.current.orientation=u},[l,u]);const M=Io(r),L=i.useRef(g),A=i.useRef(a??-1),W=i.useRef(null),K=i.useRef(!0),k=ie(N=>{d(A.current===-1?null:A.current,N)}),Y=i.useRef(k),J=i.useRef(!!s),$=i.useRef(o),Z=i.useRef(!1),te=i.useRef(!1),ne=Ae(w),U=Ae(o),X=Ae(S),pe=Ae(a),De=Ae(P),Se=ie(()=>{function N(re){R?T?.events.emit("virtualfocus",re):ko(re,{sync:Z.current,preventScroll:!0})}const j=c.current[A.current],V=te.current;j&&N(j),(Z.current?re=>re():requestAnimationFrame)(()=>{const re=c.current[A.current]||j;if(!re)return;j||N(re);const fe=X.current;fe&&ye&&(V||!K.current)&&re.scrollIntoView?.(typeof fe=="boolean"?{block:"nearest",inline:"nearest"}:fe)})});ee(()=>{f&&(o&&s?(A.current=a??-1,L.current&&a!=null&&(te.current=!0,k())):J.current&&(A.current=-1,Y.current()))},[f,o,s,a,k]),ee(()=>{if(f){if(!o){Z.current=!1;return}if(s)if(m==null){if(Z.current=!1,pe.current!=null)return;if(J.current&&(A.current=-1,Se()),(!$.current||!J.current)&&L.current&&(W.current!=null||L.current===!0&&W.current==null)){let N=0;const j=()=>{c.current[0]==null?(N<2&&(N?requestAnimationFrame:queueMicrotask)(j),N+=1):(A.current=W.current==null||jt(W.current,u,p)||y?_t(c):xn(c),W.current=null,k())};j()}}else it(c,m)||(A.current=m,Se(),te.current=!1)}},[f,o,s,m,pe,y,c,u,p,k,Se,ne]),ee(()=>{if(!f||s||!T||R||!J.current)return;const N=T.nodesRef.current,j=N.find(re=>re.id===I)?.context?.elements.floating,V=Ct(nt(s)),Q=N.some(re=>re.context&&Re(re.context.elements.floating,V));j&&!Q&&K.current&&j.focus({preventScroll:!0})},[f,s,T,I,R]),ee(()=>{Y.current=k,$.current=o,J.current=!!s}),ee(()=>{o||(W.current=null,L.current=g)},[o,g]);const xe=m!=null,ye=i.useMemo(()=>{function N(V){if(!U.current)return;const Q=c.current.indexOf(V.currentTarget);Q!==-1&&A.current!==Q&&(A.current=Q,k(V))}return{onFocus(V){Z.current=!0,N(V)},onClick:({currentTarget:V})=>V.focus({preventScroll:!0}),onMouseMove(V){Z.current=!0,te.current=!1,h&&N(V)},onPointerLeave(V){if(!U.current||!K.current||V.pointerType==="touch")return;Z.current=!0;const Q=V.relatedTarget;!h||c.current.includes(Q)||De.current&&(A.current=-1,k(V),R||_.current?.focus({preventScroll:!0}))}}},[U,_,h,c,k,De,R]),G=i.useCallback(()=>O??T?.nodesRef.current.find(N=>N.id===I)?.context?.dataRef?.current.orientation,[I,T,O]),ce=ie(N=>{if(K.current=!1,Z.current=!0,N.which===229||!U.current&&N.currentTarget===_.current)return;if(y&&As(N.key,u,p,C)){yt(N.key,G())||be(N),n.setOpen(!1,ue(Rt,N.nativeEvent)),Le(r)&&(R?T?.events.emit("virtualfocus",r):r.focus());return}const j=A.current,V=_t(c,w),Q=xn(c,w);if(M||(N.key==="Home"&&(be(N),A.current=V,k(N)),N.key==="End"&&(be(N),A.current=Q,k(N))),C>1){const re=F||Array.from({length:c.current.length},()=>({width:1,height:1})),fe=Pr(re,C,D),He=fe.findIndex(Ee=>Ee!=null&&!ct(c,Ee,w)),Ve=fe.reduce((Ee,Ne,z)=>Ne!=null&&!ct(c,Ne,w)?z:Ee,-1),Te=fe[Tr({current:fe.map(Ee=>Ee!=null?c.current[Ee]:null)},{event:N,orientation:u,loopFocus:b,rtl:p,cols:C,disabledIndices:Ir([...(typeof w!="function"?w:null)||c.current.map((Ee,Ne)=>ct(c,Ne,w)?Ne:void 0),void 0],fe),minIndex:He,maxIndex:Ve,prevIndex:Ar(A.current>Q?V:A.current,re,fe,C,N.key===gt?"bl":N.key===(p?Ue:je)?"tr":"tl"),stopEvent:!0})];if(Te!=null&&(A.current=Te,k(N)),u==="both")return}if(yt(N.key,u)){if(be(N),o&&!R&&Ct(N.currentTarget.ownerDocument)===N.currentTarget){A.current=jt(N.key,u,p)?V:Q,k(N);return}jt(N.key,u,p)?b?j>=Q?x&&j!==c.current.length?A.current=-1:(Z.current=!1,A.current=V):A.current=he(c,{startingIndex:j,disabledIndices:w}):A.current=Math.min(Q,he(c,{startingIndex:j,disabledIndices:w})):b?j<=V?x&&j!==-1?A.current=c.current.length:(Z.current=!1,A.current=Q):A.current=he(c,{startingIndex:j,decrement:!0,disabledIndices:w}):A.current=Math.max(V,he(c,{startingIndex:j,decrement:!0,disabledIndices:w})),it(c,A.current)&&(A.current=-1),k(N)}}),oe=i.useMemo(()=>R&&o&&xe&&{"aria-activedescendant":`${B}-${m}`},[R,o,xe,B,m]),ve=i.useMemo(()=>({"aria-orientation":u==="both"?void 0:u,...M?{}:oe,onKeyDown(N){if(N.key==="Tab"&&N.shiftKey&&o&&!R){const j=Dt(N.nativeEvent);if(j&&!Re(_.current,j))return;be(N),n.setOpen(!1,ue(Tt,N.nativeEvent)),Le(r)&&r.focus();return}ce(N)},onPointerMove(){K.current=!0}}),[oe,ce,_,u,M,n,o,R,r]),Fe=i.useMemo(()=>{function N(V){g==="auto"&&Lo(V.nativeEvent)&&(L.current=!R)}function j(V){L.current=g,g==="auto"&&Do(V.nativeEvent)&&(L.current=!0)}return{onKeyDown(V){const Q=n.select("open");K.current=!1;const re=V.key.startsWith("Arrow"),fe=Ps(V.key,G(),p),He=yt(V.key,u),Ve=(y?fe:He)||V.key==="Enter"||V.key.trim()==="";if(R&&Q)return ce(V);if(!(!Q&&!E&&re)){if(Ve){const Te=yt(V.key,G());W.current=y&&Te?null:V.key}if(y){fe&&(be(V),Q?(A.current=_t(c,ne.current),k(V)):n.setOpen(!0,ue(Rt,V.nativeEvent,V.currentTarget)));return}He&&(pe.current!=null&&(A.current=pe.current),be(V),!Q&&E?n.setOpen(!0,ue(Rt,V.nativeEvent,V.currentTarget)):ce(V),Q&&k(V))}},onFocus(V){n.select("open")&&!R&&(A.current=-1,k(V))},onPointerDown:j,onPointerEnter:j,onMouseDown:N,onClick:N}},[ce,ne,g,c,y,k,n,E,u,G,p,pe,R]),Ge=i.useMemo(()=>({...oe,...Fe}),[oe,Fe]);return i.useMemo(()=>f?{reference:Ge,floating:ve,item:ye,trigger:Fe}:{},[f,Ge,ve,Fe,ye])}function ks(e,t){const n="rootStore"in e?e.rootStore:e,o=n.useState("open"),s=n.context.dataRef,{listRef:r,activeIndex:l,onMatch:c,onTypingChange:m,enabled:d=!0,findMatch:f=null,resetMs:a=750,ignoreKeys:x=Et,selectedIndex:b=null}=t,y=Ke(),p=i.useRef(""),R=i.useRef(b??l??-1),g=i.useRef(null);ee(()=>{o&&(y.clear(),g.current=null,p.current="")},[o,y]),ee(()=>{o&&p.current===""&&(R.current=b??l??-1)},[o,b,l]);const h=ie(O=>{O?s.current.typing||(s.current.typing=O,m?.(O)):s.current.typing&&(s.current.typing=O,m?.(O))}),E=ie(O=>{function C(P,v,H){const _=f?f(v,H):v.find(I=>I?.toLocaleLowerCase().indexOf(H.toLocaleLowerCase())===0);return _?P.indexOf(_):-1}const S=r.current;if(p.current.length>0&&p.current[0]!==" "&&(C(S,S,p.current)===-1?h(!1):O.key===" "&&be(O)),S==null||x.includes(O.key)||O.key.length!==1||O.ctrlKey||O.metaKey||O.altKey)return;o&&O.key!==" "&&(be(O),h(!0)),S.every(P=>P?P[0]?.toLocaleLowerCase()!==P[1]?.toLocaleLowerCase():!0)&&p.current===O.key&&(p.current="",R.current=g.current),p.current+=O.key,y.start(a,()=>{p.current="",R.current=g.current,h(!1)});const D=R.current,B=C(S,[...S.slice((D||0)+1),...S.slice(0,(D||0)+1)],p.current);B!==-1?(c?.(B),g.current=B):O.key!==" "&&(p.current="",h(!1))}),w=i.useMemo(()=>({onKeyDown:E}),[E]),u=i.useMemo(()=>({onKeyDown:E,onKeyUp(O){O.key===" "&&h(!1)}}),[E,h]);return i.useMemo(()=>d?{reference:w,floating:u}:{},[d,w,u])}function On(e,t){const[n,o]=e;let s=!1;const r=t.length;for(let l=0,c=r-1;l<r;c=l++){const[m,d]=t[l]||[0,0],[f,a]=t[c]||[0,0];d>=o!=a>=o&&n<=(f-m)*(o-d)/(a-d)+m&&(s=!s)}return s}function Ls(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Ds(e={}){const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:o=!0}=e,s=new Fo;let r=!1,l=null,c=null,m=typeof performance<"u"?performance.now():0;function d(a,x){const b=performance.now(),y=b-m;if(l===null||c===null||y===0)return l=a,c=x,m=b,null;const p=a-l,R=x-c,h=Math.sqrt(p*p+R*R)/y;return l=a,c=x,m=b,h}const f=({x:a,y:x,placement:b,elements:y,onClose:p,nodeId:R,tree:g})=>function(E){function w(){s.clear(),p()}if(s.clear(),!y.domReference||!y.floating||b==null||a==null||x==null)return;const{clientX:u,clientY:O}=E,C=[u,O],S=Dt(E),F=E.type==="mouseleave",D=Re(y.floating,S),B=Re(y.domReference,S),P=y.domReference.getBoundingClientRect(),v=y.floating.getBoundingClientRect(),H=b.split("-")[0],_=a>v.right-v.width/2,I=x>v.bottom-v.height/2,T=Ls(C,P),M=v.width>P.width,L=v.height>P.height,A=(M?P:v).left,W=(M?P:v).right,K=(L?P:v).top,k=(L?P:v).bottom;if(D&&(r=!0,!F))return;if(B&&(r=!1),B&&!F){r=!0;return}if(F&&le(E.relatedTarget)&&Re(y.floating,E.relatedTarget)||g&&Ho(g.nodesRef.current,R).some(({context:$})=>$?.open))return;if(H==="top"&&x>=P.bottom-1||H==="bottom"&&x<=P.top+1||H==="left"&&a>=P.right-1||H==="right"&&a<=P.left+1)return w();let Y=[];switch(H){case"top":Y=[[A,P.top+1],[A,v.bottom-1],[W,v.bottom-1],[W,P.top+1]];break;case"bottom":Y=[[A,v.top+1],[A,P.bottom-1],[W,P.bottom-1],[W,v.top+1]];break;case"left":Y=[[v.right-1,k],[v.right-1,K],[P.left+1,K],[P.left+1,k]];break;case"right":Y=[[P.right-1,k],[P.right-1,K],[v.left+1,K],[v.left+1,k]];break}function J([$,Z]){switch(H){case"top":{const te=[M?$+t/2:_?$+t*4:$-t*4,Z+t+1],ne=[M?$-t/2:_?$+t*4:$-t*4,Z+t+1],U=[[v.left,_||M?v.bottom-t:v.top],[v.right,_?M?v.bottom-t:v.top:v.bottom-t]];return[te,ne,...U]}case"bottom":{const te=[M?$+t/2:_?$+t*4:$-t*4,Z-t],ne=[M?$-t/2:_?$+t*4:$-t*4,Z-t],U=[[v.left,_||M?v.top+t:v.bottom],[v.right,_?M?v.top+t:v.bottom:v.top+t]];return[te,ne,...U]}case"left":{const te=[$+t+1,L?Z+t/2:I?Z+t*4:Z-t*4],ne=[$+t+1,L?Z-t/2:I?Z+t*4:Z-t*4];return[...[[I||L?v.right-t:v.left,v.top],[I?L?v.right-t:v.left:v.right-t,v.bottom]],te,ne]}case"right":{const te=[$-t,L?Z+t/2:I?Z+t*4:Z-t*4],ne=[$-t,L?Z-t/2:I?Z+t*4:Z-t*4],U=[[I||L?v.left+t:v.right,v.top],[I?L?v.left+t:v.right:v.left+t,v.bottom]];return[te,ne,...U]}default:return[]}}if(!On([u,O],Y)){if(r&&!T)return w();if(!F&&o){const $=d(E.clientX,E.clientY);if($!==null&&$<.1)return w()}On([u,O],J([a,x]))?!r&&o&&s.start(40,w):w()}};return f.__options={blockPointerEvents:n},f}const Fs="ws://localhost:3001/ws";class Hs{ws=null;reconnectAttempts=0;maxReconnectAttempts=10;reconnectDelay=1e3;handlers=new Set;reconnectTimer=null;connect(){if(this.ws?.readyState!==WebSocket.OPEN)try{this.ws=new WebSocket(Fs),this.ws.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,this.notifyHandlers({type:"status_change",instanceId:"",data:{connected:!0},timestamp:Date.now()})},this.ws.onmessage=t=>{try{const n=JSON.parse(t.data);this.notifyHandlers(n)}catch(n){console.error("Failed to parse WebSocket message:",n)}},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.notifyHandlers({type:"status_change",instanceId:"",data:{connected:!1},timestamp:Date.now()}),this.attemptReconnect()},this.ws.onerror=t=>{console.error("WebSocket error:",t)}}catch(t){console.error("Failed to create WebSocket connection:",t),this.attemptReconnect()}}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("Max reconnection attempts reached");return}this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectAttempts++;const t=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`Attempting to reconnect in ${t}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.reconnectTimer=setTimeout(()=>{this.connect()},t)}notifyHandlers(t){this.handlers.forEach(n=>{try{n(t)}catch(o){console.error("Error in WebSocket message handler:",o)}})}onMessage(t){return this.handlers.add(t),()=>{this.handlers.delete(t)}}disconnect(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&(this.ws.close(),this.ws=null),this.handlers.clear()}isConnected(){return this.ws?.readyState===WebSocket.OPEN}}const Ti=new Hs,to=i.createContext(void 0);function no(e){const t=i.useContext(to);if(t===void 0&&!e)throw new Error(ft(33));return t}const oo=i.createContext(void 0);function Je(e){const t=i.useContext(oo);if(t===void 0&&!e)throw new Error(ft(36));return t}const Ns=i.createContext(void 0);function Nt(e=!0){const t=i.useContext(Ns);if(t===void 0&&!e)throw new Error(ft(25));return t}const Vs={type:"regular-item"};function Bs(e){const{closeOnClick:t,disabled:n=!1,highlighted:o,id:s,store:r,nativeButton:l,itemMetadata:c,nodeId:m}=e,d=i.useRef(null),f=Nt(!0),a=f!==void 0,{events:x}=r.useState("floatingTreeRoot"),{getButtonProps:b,buttonRef:y}=In({disabled:n,focusableWhenDisabled:!0,native:l}),p=i.useCallback(g=>Yt({id:s,role:"menuitem",tabIndex:o?0:-1,onMouseMove(h){m&&x.emit("itemhover",{nodeId:m,target:h.currentTarget})},onMouseEnter(){c.type==="submenu-trigger"&&c.setActive()},onKeyUp(h){h.key===" "&&r.context.typingRef.current&&h.preventBaseUIHandler()},onClick(h){t&&x.emit("close",{domEvent:h,reason:$n})},onMouseUp(h){if(f){const E=f.initialCursorPointRef.current;if(f.initialCursorPointRef.current=null,a&&E&&Math.abs(h.clientX-E.x)<=1&&Math.abs(h.clientY-E.y)<=1)return}d.current&&r.context.allowMouseUpTriggerRef.current&&(!a||h.button===2)&&c.type==="regular-item"&&d.current.click()}},g,b),[s,o,b,t,x,r,a,f,c,m]),R=kn(d,y);return i.useMemo(()=>({getItemProps:p,itemRef:R}),[p,R])}const ro=i.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function _s(){return i.useContext(ro)}let Ws=(function(e){return e[e.None=0]="None",e[e.GuessFromOrder=1]="GuessFromOrder",e})({});function so(e={}){const{label:t,metadata:n,textRef:o,indexGuessBehavior:s,index:r}=e,{register:l,unregister:c,subscribeMapChange:m,elementsRef:d,labelsRef:f,nextIndexRef:a}=_s(),x=i.useRef(-1),[b,y]=i.useState(r??(s===Ws.GuessFromOrder?()=>{if(x.current===-1){const g=a.current;a.current+=1,x.current=g}return x.current}:-1)),p=i.useRef(null),R=i.useCallback(g=>{if(p.current=g,b!==-1&&g!==null&&(d.current[b]=g,f)){const h=t!==void 0;f.current[b]=h?t:o?.current?.textContent??g.textContent}},[b,d,f,t,o]);return ee(()=>{if(r!=null)return;const g=p.current;if(g)return l(g,n),()=>{c(g)}},[r,l,c,n]),ee(()=>{if(r==null)return m(g=>{const h=p.current?g.get(p.current)?.index:null;h!=null&&y(h)})},[r,m,y]),i.useMemo(()=>({ref:R,index:b}),[b,R])}const Zs=i.forwardRef(function(t,n){const{render:o,className:s,id:r,label:l,nativeButton:c=!1,disabled:m=!1,closeOnClick:d=!0,...f}=t,a=so({label:l}),x=no(!0),b=zn(r),{store:y}=Je(),p=y.useState("isActive",a.index),R=y.useState("itemProps"),{getItemProps:g,itemRef:h}=Bs({closeOnClick:d,disabled:m,highlighted:p,id:b,store:y,nativeButton:c,nodeId:x?.nodeId,itemMetadata:Vs}),E=i.useMemo(()=>({disabled:m,highlighted:p}),[m,p]);return dt("div",t,{state:E,props:[R,f,g],ref:[h,n,a.ref]})}),$s=i.createContext(void 0);function zs(e){return i.useContext($s)}function Us(e){return e==="starting"?No:mt}const js={...Hn,..._o},Ks=i.forwardRef(function(t,n){const{render:o,className:s,finalFocus:r,...l}=t,{store:c}=Je(),{side:m,align:d}=no(),f=zs()!=null,a=c.useState("open"),x=c.useState("transitionStatus"),b=c.useState("popupProps"),y=c.useState("mounted"),p=c.useState("instantType"),R=c.useState("activeTriggerElement"),g=c.useState("parent"),h=c.useState("lastOpenChangeReason"),E=c.useState("rootId"),w=c.useState("floatingRootContext"),u=c.useState("floatingTreeRoot"),O=c.useState("closeDelay"),C=c.useState("activeTriggerElement");Vo({open:a,ref:c.context.popupRef,onComplete(){a&&c.context.onOpenChangeComplete?.(!0)}}),i.useEffect(()=>{function v(H){c.setOpen(!1,ue(H.reason,H.domEvent))}return u.events.on("close",v),()=>{u.events.off("close",v)}},[u.events,c]);const S=c.useState("hoverEnabled"),F=c.useState("disabled");Ms(w,{enabled:S&&!F&&g.type!=="context-menu"&&g.type!=="menubar",closeDelay:O});const D=i.useMemo(()=>({transitionStatus:x,side:m,align:d,open:a,nested:g.type==="menu",instant:p}),[x,m,d,a,g.type,p]),B=dt("div",t,{state:D,ref:[n,c.context.popupRef],stateAttributesMapping:js,props:[b,{onKeyDown(v){f&&Wo.has(v.key)&&v.stopPropagation()}},Us(x),l,{"data-rootownerid":E}]});let P=g.type===void 0||g.type==="context-menu";return(R||g.type==="menubar"&&h!==gr)&&(P=!0),se.jsx(Bo,{context:w,modal:!1,disabled:!y,returnFocus:r===void 0?P:r,initialFocus:g.type!=="menu",restoreFocus:!0,externalTree:g.type!=="menubar"?u:void 0,previousFocusableElement:C,nextFocusableElement:g.type===void 0?c.context.triggerFocusTargetRef:void 0,beforeContentFocusGuardRef:g.type===void 0?c.context.beforeContentFocusGuardRef:void 0,children:B})}),io=i.createContext(void 0);function Ys(){const e=i.useContext(io);if(e===void 0)throw new Error(ft(32));return e}const Gs=i.forwardRef(function(t,n){const{keepMounted:o=!1,...s}=t,{store:r}=Je();return r.useState("mounted")||o?se.jsx(io.Provider,{value:o,children:se.jsx(Zo,{ref:n,...s})}):null}),Xs=i.createContext(void 0);function co(){return i.useContext(Xs)?.direction??"ltr"}const qs=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:s,rects:r,platform:l,elements:c,middlewareData:m}=t,{element:d,padding:f=0,offsetParent:a="real"}=Ze(e,t)||{};if(d==null)return{};const x=Un(f),b={x:n,y:o},y=sn(s),p=rn(y),R=await l.getDimensions(d),g=y==="y",h=g?"top":"left",E=g?"bottom":"right",w=g?"clientHeight":"clientWidth",u=r.reference[p]+r.reference[y]-b[y]-r.floating[p],O=b[y]-r.reference[y],C=a==="real"?await l.getOffsetParent?.(d):c.floating;let S=c.floating[w]||r.floating[p];(!S||!await l.isElement?.(C))&&(S=c.floating[w]||r.floating[p]);const F=u/2-O/2,D=S/2-R[p]/2-1,B=Math.min(x[h],D),P=Math.min(x[E],D),v=B,H=S-R[p]-P,_=S/2-R[p]/2+F,I=Gt(v,_,H),T=!m.arrow&&Ye(s)!=null&&_!==I&&r.reference[p]/2-(_<v?B:P)-R[p]/2<0,M=T?_<v?_-v:_-H:0;return{[y]:b[y]+M,data:{[y]:I,centerOffset:_-I-M,...T&&{alignmentOffset:M}},reset:T}}}),Js=(e,t)=>({...qs(e),options:[e,t]}),Qs={name:"hide",async fn(e){const{width:t,height:n,x:o,y:s}=e.rects.reference,r=t===0&&n===0&&o===0&&s===0;return{data:{referenceHidden:(await xs().fn(e)).data?.referenceHidden||r}}}},ei={sideX:"left",sideY:"top"};function ao(e,t,n){const o=e==="inline-start"||e==="inline-end";return{top:"top",right:o?n?"inline-start":"inline-end":"right",bottom:"bottom",left:o?n?"inline-end":"inline-start":"left"}[t]}function Sn(e,t,n){const{rects:o,placement:s}=e;return{side:ao(t,Oe(s),n),align:Ye(s)||"center",anchor:{width:o.reference.width,height:o.reference.height},positioner:{width:o.floating.width,height:o.floating.height}}}function ti(e){const{anchor:t,positionMethod:n="absolute",side:o="bottom",sideOffset:s=0,align:r="center",alignOffset:l=0,collisionBoundary:c,collisionPadding:m=5,sticky:d=!1,arrowPadding:f=5,disableAnchorTracking:a=!1,keepMounted:x=!1,floatingRootContext:b,mounted:y,collisionAvoidance:p,shiftCrossAxis:R=!1,nodeId:g,adaptiveOrigin:h,lazyFlip:E=!1,externalTree:w}=e,[u,O]=i.useState(null);!y&&u!==null&&O(null);const C=p.side||"flip",S=p.align||"flip",F=p.fallbackAxisSide||"end",D=typeof t=="function"?t:void 0,B=ie(D),P=D?B:t,v=Ae(t),_=co()==="rtl",I=u||{top:"top",right:"right",bottom:"bottom",left:"left","inline-end":_?"left":"right","inline-start":_?"right":"left"}[o],T=r==="center"?I:`${I}-${r}`;let M=m;const L=1,A=o==="bottom"?L:0,W=o==="top"?L:0,K=o==="right"?L:0,k=o==="left"?L:0;typeof M=="number"?M={top:M+A,right:M+k,bottom:M+W,left:M+K}:M&&(M={top:(M.top||0)+A,right:(M.right||0)+k,bottom:(M.bottom||0)+W,left:(M.left||0)+K});const Y={boundary:c==="clipping-ancestors"?"clippingAncestors":c,padding:M},J=i.useRef(null),$=Ae(s),Z=Ae(l),U=[ds(ae=>{const de=Sn(ae,o,_),Me=typeof $.current=="function"?$.current(de):$.current,we=typeof Z.current=="function"?Z.current(de):Z.current;return{mainAxis:Me,crossAxis:we,alignmentAxis:we}},[typeof s!="function"?s:0,typeof l!="function"?l:0,_,o])],X=S==="none"&&C!=="shift",pe=!X&&(d||R||C==="shift"),De=C==="none"?null:ps({...Y,padding:{top:M.top+L,right:M.right+L,bottom:M.bottom+L,left:M.left+L},mainAxis:!R&&C==="flip",crossAxis:S==="flip"?"alignment":!1,fallbackAxisSideDirection:F}),Se=X?null:ms(ae=>{const de=Ot(ae.elements.floating).documentElement;return{...Y,rootBoundary:R?{x:0,y:0,width:de.clientWidth,height:de.clientHeight}:void 0,mainAxis:S!=="none",crossAxis:pe,limiter:d||R?void 0:gs(Me=>{if(!J.current)return{};const{width:we,height:_e}=J.current.getBoundingClientRect(),Pe=ke(Oe(Me.placement)),Xe=Pe==="y"?we:_e,Vt=Pe==="y"?M.left+M.right:M.top+M.bottom;return{offset:Xe/2+Vt/2}})}},[Y,d,R,M,S]);C==="shift"||S==="shift"||r==="center"?U.push(Se,De):U.push(De,Se),U.push(hs({...Y,apply({elements:{floating:ae},rects:{reference:de},availableWidth:Me,availableHeight:we}){Object.entries({"--available-width":`${Me}px`,"--available-height":`${we}px`,"--anchor-width":`${de.width}px`,"--anchor-height":`${de.height}px`}).forEach(([_e,Pe])=>{ae.style.setProperty(_e,Pe)})}}),Js(()=>({element:J.current||document.createElement("div"),padding:f,offsetParent:"floating"}),[f]),{name:"transformOrigin",fn(ae){const{elements:de,middlewareData:Me,placement:we,rects:_e,y:Pe}=ae,Xe=Oe(we),Vt=ke(Xe),un=J.current,fo=Me.arrow?.x||0,mo=Me.arrow?.y||0,go=un?.clientWidth||0,po=un?.clientHeight||0,Bt=fo+go/2,fn=mo+po/2,ho=Math.abs(Me.shift?.y||0),xo=_e.reference.height/2,rt=typeof s=="function"?s(Sn(ae,o,_)):s,yo=ho>rt,bo={top:`${Bt}px calc(100% + ${rt}px)`,bottom:`${Bt}px ${-rt}px`,left:`calc(100% + ${rt}px) ${fn}px`,right:`${-rt}px ${fn}px`}[Xe],Ro=`${Bt}px ${_e.reference.y+xo-Pe}px`;return de.floating.style.setProperty("--transform-origin",pe&&Vt==="y"&&yo?Ro:bo),{}}},Qs,h),ee(()=>{!y&&b&&b.update({referenceElement:null,floatingElement:null,domReferenceElement:null})},[y,b]);const xe=i.useMemo(()=>({elementResize:!a&&typeof ResizeObserver<"u",layoutShift:!a&&typeof IntersectionObserver<"u"}),[a]),{refs:ye,elements:G,x:ce,y:oe,middlewareData:ve,update:Fe,placement:Ge,context:N,isPositioned:j,floatingStyles:V}=bs({rootContext:b,placement:T,middleware:U,strategy:n,whileElementsMounted:x?void 0:(...ae)=>Mn(...ae,xe),nodeId:g,externalTree:w}),{sideX:Q,sideY:re}=ve.adaptiveOrigin||ei,fe=j?n:"fixed",He=i.useMemo(()=>h?{position:fe,[Q]:ce,[re]:oe}:{position:fe,...V},[h,fe,Q,ce,re,oe,V]),Ve=i.useRef(null);ee(()=>{if(!y)return;const ae=v.current,de=typeof ae=="function"?ae():ae,we=(Tn(de)?de.current:de)||null||null;we!==Ve.current&&(ye.setPositionReference(we),Ve.current=we)},[y,ye,P,v]),i.useEffect(()=>{if(!y)return;const ae=v.current;typeof ae!="function"&&Tn(ae)&&ae.current!==Ve.current&&(ye.setPositionReference(ae.current),Ve.current=ae.current)},[y,ye,P,v]),i.useEffect(()=>{if(x&&y&&G.domReference&&G.floating)return Mn(G.domReference,G.floating,Fe,xe)},[x,y,G,Fe,xe]);const Te=Oe(Ge),Ee=ao(o,Te,_),Ne=Ye(Ge)||"center",z=!!ve.hide?.referenceHidden;ee(()=>{E&&y&&j&&O(Te)},[E,y,j,Te]);const q=i.useMemo(()=>({position:"absolute",top:ve.arrow?.y,left:ve.arrow?.x}),[ve.arrow]),ge=ve.arrow?.centerOffset!==0;return i.useMemo(()=>({positionerStyles:He,arrowStyles:q,arrowRef:J,arrowUncentered:ge,side:Ee,align:Ne,physicalSide:Te,anchorHidden:z,refs:ye,context:N,isPositioned:j,update:Fe}),[He,q,J,ge,Ee,Ne,Te,z,ye,N,j,Fe])}function Tn(e){return e!=null&&"current"in e}function ni(e){const{children:t,elementsRef:n,labelsRef:o,onMapChange:s}=e,r=ie(s),l=i.useRef(0),c=vt(ri).current,m=vt(oi).current,[d,f]=i.useState(0),a=i.useRef(d),x=ie((g,h)=>{m.set(g,h??null),a.current+=1,f(a.current)}),b=ie(g=>{m.delete(g),a.current+=1,f(a.current)}),y=i.useMemo(()=>{const g=new Map;return Array.from(m.keys()).filter(E=>E.isConnected).sort(si).forEach((E,w)=>{const u=m.get(E)??{};g.set(E,{...u,index:w})}),g},[m,d]);ee(()=>{if(typeof MutationObserver!="function"||y.size===0)return;const g=new MutationObserver(h=>{const E=new Set,w=u=>E.has(u)?E.delete(u):E.add(u);h.forEach(u=>{u.removedNodes.forEach(w),u.addedNodes.forEach(w)}),E.size===0&&(a.current+=1,f(a.current))});return y.forEach((h,E)=>{E.parentElement&&g.observe(E.parentElement,{childList:!0})}),()=>{g.disconnect()}},[y]),ee(()=>{a.current===d&&(n.current.length!==y.size&&(n.current.length=y.size),o&&o.current.length!==y.size&&(o.current.length=y.size),l.current=y.size),r(y)},[r,y,n,o,d]),ee(()=>()=>{n.current=[]},[n]),ee(()=>()=>{o&&(o.current=[])},[o]);const p=ie(g=>(c.add(g),()=>{c.delete(g)}));ee(()=>{c.forEach(g=>g(y))},[c,y]);const R=i.useMemo(()=>({register:x,unregister:b,subscribeMapChange:p,elementsRef:n,labelsRef:o,nextIndexRef:l}),[x,b,p,n,o,l]);return se.jsx(ro.Provider,{value:R,children:t})}function oi(){return new Map}function ri(){return new Set}function si(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const ii=i.forwardRef(function(t,n){const{anchor:o,positionMethod:s="absolute",className:r,render:l,side:c,align:m,sideOffset:d=0,alignOffset:f=0,collisionBoundary:a="clipping-ancestors",collisionPadding:x=5,arrowPadding:b=5,sticky:y=!1,disableAnchorTracking:p=!1,collisionAvoidance:R=$o,...g}=t,{store:h}=Je(),E=Ys(),w=Nt(!0),u=h.useState("parent"),O=h.useState("floatingRootContext"),C=h.useState("floatingTreeRoot"),S=h.useState("mounted"),F=h.useState("open"),D=h.useState("modal"),B=h.useState("activeTriggerElement"),P=h.useState("lastOpenChangeReason"),v=h.useState("floatingNodeId"),H=h.useState("floatingParentNodeId");let _=o,I=d,T=f,M=m,L=R;u.type==="context-menu"&&(_=o??u.context?.anchor,M=M??"start",!c&&M!=="center"&&(T=t.alignOffset??2,I=t.sideOffset??-5));let A=c,W=M;u.type==="menu"?(A=A??"inline-end",W=W??"start",L=t.collisionAvoidance??zo):u.type==="menubar"&&(A=A??"bottom",W=W??"start");const K=u.type==="context-menu",k=ti({anchor:_,floatingRootContext:O,positionMethod:w?"fixed":s,mounted:S,side:A,sideOffset:I,align:W,alignOffset:T,arrowPadding:K?0:b,collisionBoundary:a,collisionPadding:x,sticky:y,nodeId:v,keepMounted:E,disableAnchorTracking:p,collisionAvoidance:L,shiftCrossAxis:K,externalTree:C}),Y=i.useMemo(()=>{const U={};return F||(U.pointerEvents="none"),{role:"presentation",hidden:!S,style:{...k.positionerStyles,...U}}},[F,S,k.positionerStyles]);i.useEffect(()=>{function U(X){X.open?(X.parentNodeId===v&&h.set("hoverEnabled",!1),X.nodeId!==v&&X.parentNodeId===h.select("floatingParentNodeId")&&h.setOpen(!1,ue(st))):X.parentNodeId===v&&X.reason!==st&&h.set("hoverEnabled",!0)}return C.events.on("menuopenchange",U),()=>{C.events.off("menuopenchange",U)}},[h,C.events,v]),i.useEffect(()=>{if(h.select("floatingParentNodeId")==null)return;function U(X){if(X.open||X.nodeId!==h.select("floatingParentNodeId"))return;const pe=X.reason??st;h.setOpen(!1,ue(pe))}return C.events.on("menuopenchange",U),()=>{C.events.off("menuopenchange",U)}},[C.events,h]),i.useEffect(()=>{function U(X){!F||X.nodeId!==h.select("floatingParentNodeId")||X.target&&B&&B!==X.target&&h.setOpen(!1,ue(st))}return C.events.on("itemhover",U),()=>{C.events.off("itemhover",U)}},[C.events,F,B,h]),i.useEffect(()=>{const U={open:F,nodeId:v,parentNodeId:H,reason:h.select("lastOpenChangeReason")};C.events.emit("menuopenchange",U)},[C.events,F,h,v,H]);const J=i.useMemo(()=>({open:F,side:k.side,align:k.align,anchorHidden:k.anchorHidden,nested:u.type==="menu"}),[F,k.side,k.align,k.anchorHidden,u.type]),$=i.useMemo(()=>({side:k.side,align:k.align,arrowRef:k.arrowRef,arrowUncentered:k.arrowUncentered,arrowStyles:k.arrowStyles,nodeId:k.context.nodeId}),[k.side,k.align,k.arrowRef,k.arrowUncentered,k.arrowStyles,k.context.nodeId]),Z=dt("div",t,{state:J,stateAttributesMapping:Hn,ref:[n,h.useStateSetter("positionerElement")],props:[Y,g]}),te=S&&u.type!=="menu"&&(u.type!=="menubar"&&D&&P!==Ie||u.type==="menubar"&&u.context.modal);let ne=null;return u.type==="menubar"?ne=u.context.contentElement:u.type===void 0&&(ne=B),se.jsxs(to.Provider,{value:$,children:[te&&se.jsx(Uo,{ref:u.type==="context-menu"||u.type==="nested-context-menu"?u.context.internalBackdropRef:null,inert:jo(!F),cutout:ne}),se.jsx(Ko,{id:v,children:se.jsx(ni,{elementsRef:h.context.itemDomElements,labelsRef:h.context.itemLabels,children:Z})})]})}),ci=i.createContext(null);function lo(e){return i.useContext(ci)}const ai={...Go,disabled:me(e=>e.parent.type==="menubar"&&e.parent.context.disabled||e.disabled),modal:me(e=>(e.parent.type===void 0||e.parent.type==="context-menu")&&(e.modal??!0)),allowMouseEnter:me(e=>e.parent.type==="menu"?e.parent.store.select("allowMouseEnter"):e.allowMouseEnter),stickIfOpen:me(e=>e.stickIfOpen),parent:me(e=>e.parent),rootId:me(e=>e.parent.type==="menu"?e.parent.store.select("rootId"):e.parent.type!==void 0?e.parent.context.rootId:e.rootId),activeIndex:me(e=>e.activeIndex),isActive:me((e,t)=>e.activeIndex===t),hoverEnabled:me(e=>e.hoverEnabled),instantType:me(e=>e.instantType),lastOpenChangeReason:me(e=>e.openChangeReason),floatingTreeRoot:me(e=>e.parent.type==="menu"?e.parent.store.select("floatingTreeRoot"):e.floatingTreeRoot),floatingNodeId:me(e=>e.floatingNodeId),floatingParentNodeId:me(e=>e.floatingParentNodeId),itemProps:me(e=>e.itemProps),closeDelay:me(e=>e.closeDelay),keyboardEventRelay:me(e=>{if(e.keyboardEventRelay)return e.keyboardEventRelay;if(e.parent.type==="menu")return e.parent.store.select("keyboardEventRelay")})};class an extends Yo{constructor(t){super({...li(),...t},{positionerRef:i.createRef(),popupRef:i.createRef(),typingRef:{current:!1},itemDomElements:{current:[]},itemLabels:{current:[]},allowMouseUpTriggerRef:{current:!1},triggerFocusTargetRef:i.createRef(),beforeContentFocusGuardRef:i.createRef(),onOpenChangeComplete:void 0,triggerElements:new Dn},ai),this.observe(me(n=>n.allowMouseEnter),(n,o)=>{this.state.parent.type==="menu"&&n!==o&&this.state.parent.store.set("allowMouseEnter",n)}),this.unsubscribeParentListener=this.observe("parent",n=>{if(this.unsubscribeParentListener?.(),n.type==="menu"){this.unsubscribeParentListener=n.store.subscribe(()=>{this.notifyAll()}),this.context.allowMouseUpTriggerRef=n.store.context.allowMouseUpTriggerRef;return}n.type!==void 0&&(this.context.allowMouseUpTriggerRef=n.context.allowMouseUpTriggerRef),this.unsubscribeParentListener=null})}setOpen(t,n){this.state.floatingRootContext.context.events.emit("setOpen",{open:t,eventDetails:n})}static useStore(t,n){return vt(()=>t??new an(n)).current}unsubscribeParentListener=null}function li(){return{...Xo(),disabled:!1,modal:!0,allowMouseEnter:!0,stickIfOpen:!0,parent:{type:void 0},rootId:void 0,activeIndex:null,hoverEnabled:!0,instantType:void 0,openChangeReason:null,floatingTreeRoot:new Nn,floatingNodeId:void 0,floatingParentNodeId:null,itemProps:mt,keyboardEventRelay:void 0,closeDelay:0}}const ui=i.createContext(void 0);function fi(){return i.useContext(ui)}function di(e){const{children:t,open:n,onOpenChange:o,onOpenChangeComplete:s,defaultOpen:r=!1,disabled:l=!1,modal:c,loopFocus:m=!0,orientation:d="vertical",actionsRef:f,closeParentOnEsc:a=!1,handle:x,triggerId:b,defaultTriggerId:y=null,highlightItemOnHover:p=!0}=e,R=Nt(!0),g=Je(!0),h=lo(),E=fi(),w=i.useMemo(()=>E&&g?{type:"menu",store:g.store}:h?{type:"menubar",context:h}:R&&!g?{type:"context-menu",context:R}:{type:void 0},[R,g,h,E]),u=an.useStore(x?.store,{parent:w}),O=u.useState("floatingTreeRoot"),C=Vn(O),S=pt();ee(()=>{R&&!g?u.update({parent:{type:"context-menu",context:R},floatingNodeId:C,floatingParentNodeId:S}):g&&u.update({floatingNodeId:C,floatingParentNodeId:S})},[R,g,C,S,u]),u.useControlledProp("open",n,r),u.useControlledProp("activeTriggerId",b,y),u.useContextCallback("onOpenChangeComplete",s);const F=u.useState("open"),D=u.useState("activeTriggerElement"),B=u.useState("positionerElement"),P=u.useState("hoverEnabled"),v=u.useState("modal"),H=u.useState("disabled"),_=u.useState("lastOpenChangeReason"),I=u.useState("parent"),T=u.useState("activeIndex"),M=u.useState("payload"),L=u.useState("floatingParentNodeId"),A=i.useRef(null),W=L!=null;let K;u.useSyncedValues({disabled:l,modal:I.type===void 0?c:void 0,rootId:_n()});const{openMethod:k,triggerProps:Y,reset:J}=qo(F);Jo(u);const{forceUnmount:$}=Qo(F,u,()=>{u.update({allowMouseEnter:!1,stickIfOpen:!0}),J()}),Z=i.useRef(I.type!=="context-menu"),te=Ke();i.useEffect(()=>{if(F||(A.current=null),I.type==="context-menu"){if(!F){te.clear(),Z.current=!1;return}te.start(500,()=>{Z.current=!0})}},[te,F,I.type]),er(F&&v&&_!==Ie&&k!=="touch",B),ee(()=>{!F&&!P&&u.set("hoverEnabled",!0)},[F,P,u]);const ne=i.useRef(!0),U=Ke(),X=ie((z,q)=>{const ge=q.reason;if(F===z&&q.trigger===D||(q.preventUnmountOnClose=()=>{u.set("preventUnmountingOnClose",!0)},!z&&q.trigger==null&&(q.trigger=D??void 0),o?.(z,q),q.isCanceled))return;const ae={open:z,nativeEvent:q.event,reason:q.reason,nested:W};K?.emit("openchange",ae);const de=q.event;if(z===!1&&de?.type==="click"&&de.pointerType==="touch"&&!ne.current)return;if(!z&&T!==null){const Pe=u.context.itemDomElements.current[T];queueMicrotask(()=>{Pe?.setAttribute("tabindex","-1")})}z&&ge===St?(ne.current=!1,U.start(300,()=>{ne.current=!0})):(ne.current=!0,U.clear());const Me=(ge===Wn||ge===$n)&&de.detail===0&&de?.isTrusted,we=!z&&(ge===Zn||ge==null);function _e(){const Pe={open:z,openChangeReason:ge};A.current=q.event??null;const Xe=q.trigger?.id??null;(Xe||z)&&(Pe.activeTriggerId=Xe,Pe.activeTriggerElement=q.trigger??null),u.update(Pe)}ge===Ie?lt.flushSync(_e):_e(),I.type==="menubar"&&(ge===St||ge===Tt||ge===Ie||ge===Rt||ge===st)?u.set("instantType","group"):Me||we?u.set("instantType",Me?"click":"dismiss"):u.set("instantType",void 0)}),pe=i.useCallback(z=>{const q=ue(z);return q.preventUnmountOnClose=()=>{u.set("preventUnmountingOnClose",!0)},q},[u]),De=i.useCallback(()=>{u.setOpen(!1,pe(pr))},[u,pe]);i.useImperativeHandle(f,()=>({unmount:$,close:De}),[$,De]);let Se;I.type==="context-menu"&&(Se=I.context),i.useImperativeHandle(Se?.positionerRef,()=>B,[B]),i.useImperativeHandle(Se?.actionsRef,()=>({setOpen:X}),[X]);const xe=tr({popupStore:u,onOpenChange:X});K=xe.context.events,i.useEffect(()=>{const z=({open:q,eventDetails:ge})=>X(q,ge);return K.on("setOpen",z),()=>{K?.off("setOpen",z)}},[K,X]);const ye=nr(xe,{enabled:!H,bubbles:a&&I.type==="menu",outsidePress(){return I.type!=="context-menu"||A.current?.type==="contextmenu"?!0:Z.current},externalTree:W?O:void 0}),G=or(xe,{role:"menu"}),ce=co(),oe=i.useCallback(z=>{u.select("activeIndex")!==z&&u.set("activeIndex",z)},[u]),ve=Is(xe,{enabled:!H,listRef:u.context.itemDomElements,activeIndex:T,nested:I.type!==void 0,loopFocus:m,orientation:d,parentOrientation:I.type==="menubar"?I.context.orientation:void 0,rtl:ce==="rtl",disabledIndices:Et,onNavigate:oe,openOnArrowKeyDown:I.type!=="context-menu",externalTree:W?O:void 0,focusItemOnHover:p}),Fe=i.useCallback(z=>{u.context.typingRef.current=z},[u]),Ge=ks(xe,{listRef:u.context.itemLabels,activeIndex:T,resetMs:ir,onMatch:z=>{F&&z!==T&&u.set("activeIndex",z)},onTypingChange:Fe}),{getReferenceProps:N,getFloatingProps:j,getItemProps:V,getTriggerProps:Q}=Bn([ye,G,ve,Ge]),re=i.useMemo(()=>{const z=Yt(N(),{onMouseEnter(){u.set("hoverEnabled",!0)},onMouseMove(){u.set("allowMouseEnter",!0)}},Y);return delete z.role,z},[N,u,Y]),fe=i.useMemo(()=>{const z=Q();if(!z)return z;const q=Yt(z,Y);return delete q.role,delete q["aria-controls"],q},[Q,Y]),He=rr(),Ve=i.useMemo(()=>j({onMouseEnter(){I.type==="menu"&&He.request(()=>u.set("hoverEnabled",!1))},onMouseMove(){u.set("allowMouseEnter",!0)},onClick(){u.select("hoverEnabled")&&u.set("hoverEnabled",!1)},onKeyDown(z){const q=u.select("keyboardEventRelay");q&&!z.isPropagationStopped()&&q(z)}}),[j,I.type,He,u]),Te=i.useMemo(()=>V(),[V]);u.useSyncedValues({floatingRootContext:xe,activeTriggerProps:re,inactiveTriggerProps:fe,popupProps:Ve,itemProps:Te});const Ee=i.useMemo(()=>({store:u,parent:w}),[u,w]),Ne=se.jsx(oo.Provider,{value:Ee,children:typeof t=="function"?t({payload:M}):t});return I.type===void 0||I.type==="context-menu"?se.jsx(sr,{externalTree:O,children:Ne}):Ne}function mi(e){const t=e.getBoundingClientRect(),n=window.getComputedStyle(e,"::before"),o=window.getComputedStyle(e,"::after");if(!(n.content!=="none"||o.content!=="none"))return t;const r=parseFloat(n.width)||0,l=parseFloat(n.height)||0,c=parseFloat(o.width)||0,m=parseFloat(o.height)||0,d=Math.max(t.width,r,c),f=Math.max(t.height,l,m),a=d-t.width,x=f-t.height;return{left:t.left-a/2,right:t.right+a/2,top:t.top-x/2,bottom:t.bottom+x/2}}function gi(e={}){const{highlightItemOnHover:t,highlightedIndex:n,onHighlightedIndexChange:o}=Ln(),{ref:s,index:r}=so(e),l=n===r,c=i.useRef(null),m=kn(s,c);return{compositeProps:i.useMemo(()=>({tabIndex:l?0:-1,onFocus(){o(r)},onMouseMove(){const f=c.current;if(!t||!f)return;const a=f.hasAttribute("disabled")||f.ariaDisabled==="true";!l&&!a&&f.focus()}}),[l,o,r,t]),compositeRef:m,index:r}}function pi(e){const{render:t,className:n,state:o=mt,props:s=Et,refs:r=Et,metadata:l,stateAttributesMapping:c,tag:m="div",...d}=e,{compositeProps:f,compositeRef:a}=gi({metadata:l});return dt(m,e,{state:o,ref:[...r,a],props:[f,...s,d],stateAttributesMapping:c})}function uo(e){if(Le(e)&&e.hasAttribute("data-rootownerid"))return e.getAttribute("data-rootownerid")??void 0;if(!at(e))return uo(tt(e))}function hi(e){const{enabled:t=!0,mouseDownAction:n,open:o}=e,s=i.useRef(!1);return i.useMemo(()=>t?{onMouseDown:r=>{(n==="open"&&!o||n==="close"&&o)&&(s.current=!0,Ot(r.currentTarget).addEventListener("click",()=>{s.current=!1},{once:!0}))},onClick:r=>{s.current&&(s.current=!1,r.preventBaseUIHandler())}}:mt,[t,n,o])}const bt=2,xi=i.forwardRef(function(t,n){const{render:o,className:s,disabled:r=!1,nativeButton:l=!0,id:c,openOnHover:m,delay:d=100,closeDelay:f=0,handle:a,payload:x,...b}=t,y=Je(!0),p=a?.store??y?.store;if(!p)throw new Error(ft(85));const R=zn(c),g=p.useState("isTriggerActive",R),h=p.useState("floatingRootContext"),E=p.useState("isOpenedByTrigger",R),w=i.useRef(null),u=bi(),O=Ln(!0),C=ht(),S=i.useMemo(()=>C??new Nn,[C]),F=Vn(S),D=pt(),{registerTrigger:B,isMountedByThisTrigger:P}=cr(R,w,p,{payload:x,closeDelay:f,parent:u,floatingTreeRoot:S,floatingNodeId:F,floatingParentNodeId:D,keyboardEventRelay:O?.relayKeyboardEvent}),v=p.useState("disabled"),H=r||v||u.type==="menubar"&&u.context.disabled,{getButtonProps:_,buttonRef:I}=In({disabled:H,native:l});i.useEffect(()=>{!E&&u.type===void 0&&(p.context.allowMouseUpTriggerRef.current=!1)},[p,E,u.type]);const T=i.useRef(null),M=Ke(),L=ie(G=>{if(!T.current)return;M.clear(),p.context.allowMouseUpTriggerRef.current=!1;const ce=G.target;if(Re(T.current,ce)||Re(p.select("positionerElement"),ce)||ce===T.current||ce!=null&&uo(ce)===p.select("rootId"))return;const oe=mi(T.current);G.clientX>=oe.left-bt&&G.clientX<=oe.right+bt&&G.clientY>=oe.top-bt&&G.clientY<=oe.bottom+bt||S.events.emit("close",{domEvent:G,reason:hr})});i.useEffect(()=>{E&&p.select("lastOpenChangeReason")===Ie&&Ot(T.current).addEventListener("mouseup",L,{once:!0})},[E,L,p]);const A=u.type==="menubar"&&u.context.hasSubmenuOpen,K=Ss(h,{enabled:(m??A??!1)&&!H&&u.type!=="context-menu"&&(u.type!=="menubar"||A&&!P),handleClose:Ds({blockPointerEvents:u.type!=="menubar"}),mouseOnly:!0,move:!1,restMs:u.type===void 0?d:void 0,delay:{close:f},triggerElementRef:w,externalTree:S,isActiveTrigger:g}),k=yi(E,p.select("lastOpenChangeReason")),Y=ar(h,{enabled:!H&&u.type!=="context-menu",event:E&&u.type==="menubar"?"click":"mousedown",toggle:!0,ignoreMouse:!1,stickIfOpen:u.type===void 0?k:!1}),J=Rs(h,{enabled:!H&&(u.type!=="menubar"&&E||A)}),$=hi({open:E,enabled:u.type==="menubar",mouseDownAction:"open"}),Z=Bn([Y,J]),te=u.type==="menubar",ne=i.useMemo(()=>({disabled:H,open:E}),[H,E]),U=p.useState("triggerProps",P),X=[T,n,I,B,w],pe=[Z.getReferenceProps(),K??mt,U,{"aria-haspopup":"menu",id:R,onMouseDown:G=>{if(p.select("open"))return;M.start(200,()=>{p.context.allowMouseUpTriggerRef.current=!0}),Ot(G.currentTarget).addEventListener("mouseup",L,{once:!0})}},te?{role:"menuitem"}:{},$,b,_],De=i.useRef(null),Se=ie(G=>{lt.flushSync(()=>{p.setOpen(!1,ue(Tt,G.nativeEvent,G.currentTarget))}),lr(De.current)?.focus()}),xe=ie(G=>{const ce=p.select("positionerElement");if(ce&&ur(G,ce))p.context.beforeContentFocusGuardRef.current?.focus();else{lt.flushSync(()=>{p.setOpen(!1,ue(Tt,G.nativeEvent,G.currentTarget))});let oe=fr(w.current);for(;oe!==null&&Re(ce,oe)||oe?.hasAttribute("aria-hidden");){const ve=oe;if(oe=dr(oe),oe===ve)break}oe?.focus()}}),ye=dt("button",t,{enabled:!te,stateAttributesMapping:mn,state:ne,ref:X,props:pe});return te?se.jsx(pi,{tag:"button",render:o,className:s,state:ne,refs:X,props:pe,stateAttributesMapping:mn}):E?se.jsxs(i.Fragment,{children:[se.jsx(gn,{ref:De,onFocus:Se},`${R}-pre-focus-guard`),se.jsx(i.Fragment,{children:ye},R),se.jsx(gn,{ref:p.context.triggerFocusTargetRef,onFocus:xe},`${R}-post-focus-guard`)]}):se.jsx(i.Fragment,{children:ye},R)});function yi(e,t){const n=Ke(),[o,s]=i.useState(!1);return ee(()=>{e&&t==="trigger-hover"?(s(!0),n.start(mr,()=>{s(!1)})):e||(n.clear(),s(!1))},[e,t,n]),o}function bi(){const e=Nt(!0),t=Je(!0),n=lo();return i.useMemo(()=>n?{type:"menubar",context:n}:e&&!t?{type:"context-menu",context:e}:{type:void 0},[e,t,n])}const Ri=new Map([["bold",i.createElement(i.Fragment,null,i.createElement("path",{d:"M112,60a16,16,0,1,1,16,16A16,16,0,0,1,112,60Zm16,52a16,16,0,1,0,16,16A16,16,0,0,0,128,112Zm0,68a16,16,0,1,0,16,16A16,16,0,0,0,128,180Z"}))],["duotone",i.createElement(i.Fragment,null,i.createElement("path",{d:"M176,32V224a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16V32A16,16,0,0,1,96,16h64A16,16,0,0,1,176,32Z",opacity:"0.2"}),i.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM128,72a12,12,0,1,0-12-12A12,12,0,0,0,128,72Zm0,112a12,12,0,1,0,12,12A12,12,0,0,0,128,184Z"}))],["fill",i.createElement(i.Fragment,null,i.createElement("path",{d:"M160,16H96A16,16,0,0,0,80,32V224a16,16,0,0,0,16,16h64a16,16,0,0,0,16-16V32A16,16,0,0,0,160,16ZM128,208a12,12,0,1,1,12-12A12,12,0,0,1,128,208Zm0-68a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm0-68a12,12,0,1,1,12-12A12,12,0,0,1,128,72Z"}))],["light",i.createElement(i.Fragment,null,i.createElement("path",{d:"M118,60a10,10,0,1,1,10,10A10,10,0,0,1,118,60Zm10,58a10,10,0,1,0,10,10A10,10,0,0,0,128,118Zm0,68a10,10,0,1,0,10,10A10,10,0,0,0,128,186Z"}))],["regular",i.createElement(i.Fragment,null,i.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM128,72a12,12,0,1,0-12-12A12,12,0,0,0,128,72Zm0,112a12,12,0,1,0,12,12A12,12,0,0,0,128,184Z"}))],["thin",i.createElement(i.Fragment,null,i.createElement("path",{d:"M120,60a8,8,0,1,1,8,8A8,8,0,0,1,120,60Zm8,60a8,8,0,1,0,8,8A8,8,0,0,0,128,120Zm0,68a8,8,0,1,0,8,8A8,8,0,0,0,128,188Z"}))]]),wi=new Map([["bold",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"}))],["duotone",i.createElement(i.Fragment,null,i.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),i.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["fill",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))],["light",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"}))],["regular",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["thin",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"}))]]),vi=i.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),ln=i.forwardRef((e,t)=>{const{alt:n,color:o,size:s,weight:r,mirrored:l,children:c,weights:m,...d}=e,{color:f="currentColor",size:a,weight:x="regular",mirrored:b=!1,...y}=i.useContext(vi);return i.createElement("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:s??a,height:s??a,fill:o??f,viewBox:"0 0 256 256",transform:l||b?"scale(-1, 1)":void 0,...y,...d},!!n&&i.createElement("title",null,n),c,m.get(r??x))});ln.displayName="IconBase";const Ei=i.forwardRef((e,t)=>i.createElement(ln,{ref:t,...e,weights:Ri}));Ei.displayName="DotsThreeVerticalIcon";const Mi=i.forwardRef((e,t)=>i.createElement(ln,{ref:t,...e,weights:wi}));Mi.displayName="TrashIcon";function Pi({...e}){return se.jsx(di,{"data-slot":"dropdown-menu",...e})}function Ai({...e}){return se.jsx(xi,{"data-slot":"dropdown-menu-trigger",...e})}function Ii({align:e="start",alignOffset:t=0,side:n="bottom",sideOffset:o=4,className:s,...r}){return se.jsx(Gs,{children:se.jsx(ii,{className:"isolate z-50 outline-none",align:e,alignOffset:t,side:n,sideOffset:o,children:se.jsx(Ks,{"data-slot":"dropdown-menu-content",className:tn("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 bg-popover text-popover-foreground min-w-32 rounded-none shadow-md ring-1 duration-100 z-50 max-h-(--available-height) w-(--anchor-width) origin-(--transform-origin) overflow-x-hidden overflow-y-auto outline-none data-closed:overflow-hidden",s),...r})})})}function ki({className:e,inset:t,variant:n="default",...o}){return se.jsx(Zs,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:tn("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:text-destructive not-data-[variant=destructive]:focus:**:text-accent-foreground gap-2 rounded-none px-2 py-2 text-xs [&_svg:not([class*='size-'])]:size-4 group/dropdown-menu-item relative flex cursor-default items-center outline-hidden select-none data-disabled:pointer-events-none data-disabled:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...o})}function Li({className:e,...t}){return se.jsx(Eo,{"data-slot":"dropdown-menu-separator",className:tn("bg-border -mx-1 h-px",e),...t})}export{Pi as D,Ai as a,Ii as b,ki as c,Li as d,Ei as o,Mi as r,Ti as w};
